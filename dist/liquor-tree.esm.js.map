{"version":3,"file":"liquor-tree.esm.js","sources":["../src/components/NodeContent.vue","../node_modules/vue-runtime-helpers/normalize-component.js","../src/components/TreeNode.vue","../node_modules/vue-runtime-helpers/inject-style/browser.js","../src/components/DraggableNode.vue","../src/utils/recurse.js","../src/utils/find.js","../src/utils/uuidV4.js","../src/lib/Selection.js","../src/lib/Node.js","../src/utils/objectToNode.js","../src/utils/stack.js","../src/utils/treeParser.js","../src/utils/request.js","../src/utils/sort.js","../src/utils/fetchDelay.js","../src/lib/Tree.js","../src/utils/keyboardNavigation.js","../src/utils/assert.js","../src/mixins/TreeMixin.js","../src/mixins/DndMixin.js","../src/components/TreeRoot.vue","../src/main.js"],"sourcesContent":["<script>\n  const NodeContent = {\n    name: 'node-content',\n    props: ['node'],\n    render (h) {\n      const node = this.node\n      const vm = this.node.tree.vm\n\n      if (node.isEditing) {\n        let nodeText = node.text\n\n        this.$nextTick(_ => {\n          this.$refs.editCtrl.focus()\n        })\n\n        return h('input', {\n          domProps: {\n            value: node.text,\n            type: 'text'\n          },\n          class: 'tree-input',\n          on: {\n            input (e) {\n              nodeText = e.target.value\n            },\n            blur () {\n              node.stopEditing(nodeText)\n            },\n            keyup (e) {\n              if (e.keyCode === 13) {\n                node.stopEditing(nodeText)\n              }\n            },\n            mouseup (e) {\n              e.stopPropagation()\n            }\n          },\n          ref: 'editCtrl'\n        })\n      }\n\n      if (vm.$scopedSlots.default) {\n        return vm.$scopedSlots.default({ node: this.node })\n      }\n\n      return h('span', {\n        domProps: {\n          innerHTML: node.text\n        }\n      })\n    }\n  }\n\n  export default NodeContent\n</script>","export default function normalizeComponent(compiledTemplate, injectStyle, defaultExport, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, isShadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n    if (typeof isShadowMode === 'function') {\n        createInjectorSSR = createInjector;\n        createInjector = isShadowMode;\n        isShadowMode = false;\n    }\n    // Vue.extend constructor export interop\n    const options = typeof defaultExport === 'function' ? defaultExport.options : defaultExport;\n    // render functions\n    if (compiledTemplate && compiledTemplate.render) {\n        options.render = compiledTemplate.render;\n        options.staticRenderFns = compiledTemplate.staticRenderFns;\n        options._compiled = true;\n        // functional template\n        if (isFunctionalTemplate) {\n            options.functional = true;\n        }\n    }\n    // scopedId\n    if (scopeId) {\n        options._scopeId = scopeId;\n    }\n    let hook;\n    if (moduleIdentifier) {\n        // server build\n        hook = function (context) {\n            // 2.3 injection\n            context =\n                context || // cached call\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\n            // 2.2 with runInNewContext: true\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n                context = __VUE_SSR_CONTEXT__;\n            }\n            // inject component styles\n            if (injectStyle) {\n                injectStyle.call(this, createInjectorSSR(context));\n            }\n            // register component module identifier for async chunk inference\n            if (context && context._registeredComponents) {\n                context._registeredComponents.add(moduleIdentifier);\n            }\n        };\n        // used by ssr in case component is cached and beforeCreate\n        // never gets called\n        options._ssrRegister = hook;\n    }\n    else if (injectStyle) {\n        hook = isShadowMode\n            ? function () {\n                injectStyle.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n            }\n            : function (context) {\n                injectStyle.call(this, createInjector(context));\n            };\n    }\n    if (hook) {\n        if (options.functional) {\n            // register for functional component in vue file\n            const originalRender = options.render;\n            options.render = function renderWithStyleInjection(h, context) {\n                hook.call(context);\n                return originalRender(h, context);\n            };\n        }\n        else {\n            // inject component registration as beforeCreate hook\n            const existing = options.beforeCreate;\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n        }\n    }\n    return defaultExport;\n}\n","<template>\n  <li\n    role=\"treeitem\"\n    class=\"tree-node\"\n    :data-id=\"node.id\"\n    :class=\"nodeClass\"\n    @mousedown.stop=\"handleMouseDown\"\n  >\n    <div\n      class=\"tree-content\"\n      :style=\"[options.direction == 'ltr' ? {'padding-left': padding} : {'padding-right': padding}]\"\n      @click.stop=\"select\"\n    >\n      <i\n        class=\"tree-arrow\"\n        :class=\"[{'expanded': node.states.expanded, 'has-child': node.children.length || node.isBatch}, options.direction]\"\n        @click.stop=\"toggleExpand\"\n      />\n\n      <i\n        v-if=\"options.checkbox\"\n        class=\"tree-checkbox\"\n        :class=\"{'checked': node.states.checked, 'indeterminate': node.states.indeterminate}\"\n        @click.stop=\"check\"\n      />\n\n      <span\n        ref=\"anchor\"\n        class=\"tree-anchor\"\n        tabindex=\"-1\"\n        @focus=\"onNodeFocus\"\n        @dblclick=\"tree.$emit('node:dblclick', node)\"\n      >\n        <node-content :node=\"node\" />\n      </span>\n    </div>\n\n    <transition name=\"l-fade\">\n      <ul\n        v-if=\"hasChildren() && node.states.expanded\"\n        class=\"tree-children\"\n      >\n        <node\n          v-for=\"child in visibleChildren\"\n          :key=\"child.id\"\n          :node=\"child\"\n          :options=\"options\"\n        />\n      </ul>\n    </transition>\n  </li>\n</template>\n\n<script>\n  import NodeContent from './NodeContent.vue'\n\n  const TreeNode = {\n    name: 'Node',\n    inject: ['tree'],\n    props: ['node', 'options'],\n\n    components: {\n      NodeContent\n    },\n\n    watch: {\n      node() {\n        this.node.vm = this\n      }\n    },\n\n    data() {\n      this.node.vm = this\n\n      return {\n        loading: false\n      }\n    },\n\n    computed: {\n      padding() {\n        return this.node.depth * (this.options.paddingLeft ? this.options.paddingLeft : this.options.nodeIndent) + 'px'\n      },\n\n      nodeClass() {\n        let state = this.node.states\n        let hasChildren = this.hasChildren()\n        let classes = {\n          'has-child': hasChildren,\n          'expanded': hasChildren && state.expanded,\n          'selected': state.selected,\n          'disabled': state.disabled,\n          'matched': state.matched,\n          'dragging': state.dragging,\n          'loading': this.loading,\n          'draggable': state.draggable\n        }\n\n        if (this.options.checkbox) {\n          classes['checked'] = state.checked\n          classes['indeterminate'] = state.indeterminate\n        }\n\n        return classes\n      },\n\n      visibleChildren() {\n        return this.node.children.filter(function(child) {\n          return child && child.visible()\n        })\n      }\n    },\n\n    methods: {\n      onNodeFocus() {\n        this.tree.activeElement = this.node\n      },\n\n      focus() {\n        this.$refs.anchor.focus()\n        this.node.select()\n      },\n\n      check() {\n        if (this.node.checked()) {\n          this.node.uncheck()\n        } else {\n          this.node.check()\n        }\n      },\n\n      select({ctrlKey} = evnt) {\n        const opts = this.options\n        const tree = this.tree\n        const node = this.node\n\n        tree.$emit('node:clicked', node)\n\n        if (opts.editing && node.isEditing) {\n          return\n        }\n\n        if (opts.editing && node.editable()) {\n          return this.startEditing()\n        }\n\n        if (opts.checkbox && opts.checkOnSelect) {\n          if (!opts.parentSelect && this.hasChildren()) {\n            return this.toggleExpand()\n          }\n\n          return this.check(ctrlKey)\n        }\n\n        // 'parentSelect' behaviour.\n        // For nodes which has a children list we have to expand/collapse\n        if (!opts.parentSelect && this.hasChildren()) {\n          this.toggleExpand()\n        }\n\n        if (opts.multiple) {\n          if (!node.selected()) {\n            node.select(ctrlKey)\n          } else {\n            if (ctrlKey) {\n              node.unselect()\n            } else {\n              if (this.tree.selectedNodes.length != 1) {\n                tree.unselectAll()\n                node.select()\n              }\n            }\n          }\n        } else {\n          if (node.selected() && ctrlKey) {\n            node.unselect()\n          } else {\n            node.select()\n          }\n        }\n      },\n\n      toggleExpand() {\n        if (this.hasChildren()) {\n          this.node.toggleExpand()\n        }\n      },\n\n      hasChildren() {\n        return this.node.hasChildren()\n      },\n\n      startEditing() {\n        if (this.tree._editingNode) {\n          this.tree._editingNode.stopEditing()\n        }\n\n        this.node.startEditing()\n      },\n\n      stopEditing() {\n        this.node.stopEditing()\n      },\n\n      handleMouseDown(event) {\n        if (!this.options.dnd) {\n          return\n        }\n\n        this.tree.vm.startDragging(this.node, event)\n      }\n    }\n  }\n\n  export default TreeNode\n</script>\n\n<style>\n  .tree-node {\n    white-space: nowrap;\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    box-sizing: border-box;\n  }\n\n  .tree-content {\n    display: flex;\n    align-items: center;\n    padding: 3px;\n    cursor: pointer;\n    width: 100%;\n    box-sizing: border-box;\n  }\n\n  .tree-node:not(.selected) > .tree-content:hover {\n    background: #f6f8fb;\n  }\n\n  .tree-node.selected > .tree-content {\n    background-color: #e7eef7;\n  }\n\n  .tree-node.disabled > .tree-content:hover {\n    background: inherit;\n  }\n\n  .tree-arrow {\n    flex-shrink: 0;\n    height: 30px;\n    cursor: pointer;\n    margin-left: 30px;\n    width: 0;\n  }\n\n  .tree-arrow.has-child {\n    margin-left: 0;\n    width: 30px;\n    position: relative;\n  }\n\n  .tree-arrow.has-child:after {\n    border: 1.5px solid #494646;\n    position: absolute;\n    border-left: 0;\n    border-top: 0;\n    left: 9px;\n    top: 50%;\n    height: 9px;\n    width: 9px;\n    transform: rotate(-45deg) translateY(-50%) translateX(0);\n    transition: transform .25s;\n    transform-origin: center;\n  }\n\n  .tree-arrow.has-child.rtl:after {\n    border: 1.5px solid #494646;\n    position: absolute;\n    border-right: 0;\n    border-bottom: 0;\n    right: 0px;\n    top: 50%;\n    height: 9px;\n    width: 9px;\n    transform: rotate(-45deg) translateY(-50%) translateX(0);\n    transition: transform .25s;\n    transform-origin: center;\n  }\n\n  .tree-arrow.expanded.has-child:after {\n    transform: rotate(45deg) translateY(-50%) translateX(-5px);\n  }\n\n  .tree-checkbox {\n    flex-shrink: 0;\n    position: relative;\n    width: 30px;\n    height: 30px;\n    box-sizing: border-box;\n    border: 1px solid #dadada;\n    border-radius: 2px;\n    background: #fff;\n    transition: border-color .25s, background-color .25s;\n  }\n\n  .tree-checkbox:after,\n  .tree-arrow:after {\n    position: absolute;\n    display: block;\n    content: \"\";\n  }\n\n  .tree-checkbox.checked,\n  .tree-checkbox.indeterminate {\n    background-color: #3a99fc;\n    border-color: #218eff;\n  }\n\n  .tree-checkbox.checked:after {\n    box-sizing: content-box;\n    border: 1.5px solid #fff; /* probably width would be rounded in most cases */\n    border-left: 0;\n    border-top: 0;\n    left: 9px;\n    top: 3px;\n    height: 15px;\n    width: 8px;\n    transform: rotate(45deg) scaleY(0);\n    transition: transform .25s;\n    transform-origin: center;\n  }\n\n  .tree-checkbox.checked:after {\n    transform: rotate(45deg) scaleY(1);\n  }\n\n  .tree-checkbox.indeterminate:after {\n    background-color: #fff;\n    top: 50%;\n    left: 20%;\n    right: 20%;\n    height: 2px;\n  }\n\n  .tree-anchor {\n    flex-grow: 2;\n    outline: none;\n    display: flex;\n    text-decoration: none;\n    color: #343434;\n    vertical-align: top;\n    margin-left: 3px;\n    line-height: 24px;\n    padding: 3px 6px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n\n  .tree-node.selected > .tree-content > .tree-anchor {\n    outline: none;\n  }\n\n  .tree-node.disabled > .tree-content > .tree-anchor {\n    color: #989191;\n    background: #fff;\n    opacity: .6;\n    cursor: default;\n    outline: none;\n  }\n\n  .tree-input {\n    display: block;\n    width: 100%;\n    height: 24px;\n    line-height: 24px;\n    outline: none;\n    border: 1px solid #3498db;\n    padding: 0 4px;\n  }\n\n  .l-fade-enter-active, .l-fade-leave-active {\n    transition: opacity .3s, transform .3s;\n    transform: translateX(0);\n  }\n\n  .l-fade-enter, .l-fade-leave-to {\n    opacity: 0;\n    transform: translateX(-2em);\n  }\n\n\n  .tree--small .tree-anchor {\n    line-height: 19px;\n  }\n\n  .tree--small .tree-checkbox {\n    width: 23px;\n    height: 23px;\n  }\n\n  .tree--small .tree-arrow {\n    height: 23px;\n  }\n\n  .tree--small .tree-checkbox.checked:after {\n    left: 7px;\n    top: 3px;\n    height: 11px;\n    width: 5px;\n  }\n\n  .tree-node.has-child.loading > .tree-content > .tree-arrow,\n  .tree-node.has-child.loading > .tree-content > .tree-arrow:after {\n    border-radius: 50%;\n    width: 15px;\n    height: 15px;\n    border: 0;\n  }\n\n  .tree-node.has-child.loading > .tree-content > .tree-arrow {\n    font-size: 3px;\n    position: relative;\n    border-top: 1.1em solid rgba(45,45,45, 0.2);\n    border-right: 1.1em solid rgba(45,45,45, 0.2);\n    border-bottom: 1.1em solid rgba(45,45,45, 0.2);\n    border-left: 1.1em solid #2d2d2d;\n    -webkit-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    transform: translateZ(0);\n    left: 5px;\n    -webkit-animation: loading 1.1s infinite linear;\n    animation: loading 1.1s infinite linear;\n    margin-right: 8px;\n  }\n\n  @-webkit-keyframes loading {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes loading {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n</style>","const isOldIE = typeof navigator !== 'undefined' &&\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\nexport default function createInjector(context) {\n    return (id, style) => addStyle(id, style);\n}\nconst HEAD = document.head || document.getElementsByTagName('head')[0];\nconst styles = {};\nfunction addStyle(id, css) {\n    const group = isOldIE ? css.media || 'default' : id;\n    const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\n    if (!style.ids.has(id)) {\n        style.ids.add(id);\n        let code = css.source;\n        if (css.map) {\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\n            // this makes source maps inside style tags work properly in Chrome\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n            // http://stackoverflow.com/a/26603875\n            code +=\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n                    ' */';\n        }\n        if (!style.element) {\n            style.element = document.createElement('style');\n            style.element.type = 'text/css';\n            if (css.media)\n                style.element.setAttribute('media', css.media);\n            HEAD.appendChild(style.element);\n        }\n        if ('styleSheet' in style.element) {\n            style.styles.push(code);\n            style.element.styleSheet.cssText = style.styles\n                .filter(Boolean)\n                .join('\\n');\n        }\n        else {\n            const index = style.ids.size - 1;\n            const textNode = document.createTextNode(code);\n            const nodes = style.element.childNodes;\n            if (nodes[index])\n                style.element.removeChild(nodes[index]);\n            if (nodes.length)\n                style.element.insertBefore(textNode, nodes[index]);\n            else\n                style.element.appendChild(textNode);\n        }\n    }\n}\n","<template>\n  <div\n    class=\"tree-dragnode\"\n    :style=\"style\"\n  >\n    {{ target.node.text }}\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'DragNode',\n    props: ['target'],\n    computed: {\n      style() {\n        if (undefined === this.target.top) {\n          return 'display: none'\n        }\n\n        return `top: ${this.target.top}px; left: ${this.target.left}px`\n      }\n    }\n  }\n</script>\n\n<style>\n  .tree-dragnode {\n    padding: 10px;\n    border: 1px solid #e7eef7;\n    position: fixed;\n    border-radius: 8px;\n    background: #fff;\n    transform: translate(-50%, -110%);\n    z-index: 10;\n  }\n</style>\n","\nexport function recurseDown (obj, fn) {\n  let res\n\n  if (Array.isArray(obj)) {\n    return obj.map(node => recurseDown(node, fn))\n  }\n\n  res = fn(obj)\n\n  // Recurse children\n  if (res !== false && obj.children && obj.children.length) {\n    res = recurseDown(obj.children, fn)\n  }\n\n  return res\n}\n","function striptags (value) {\n  // ssr fix\n  if (!!document === false) {\n    return value\n  }\n\n  if (!striptags.__element) {\n    striptags.__element = document.createElement('div')\n  }\n\n  striptags.__element.innerHTML = value\n  return striptags.__element.innerText\n}\n\nfunction finder (criteria) {\n  return function (node) {\n    return Object.keys(criteria).every(key => {\n      if (key === 'text' || key === 'id') {\n        const c = criteria[key]\n        let val = node[key]\n\n        // remove html tags\n        val = striptags(val)\n\n        if (isRegExp(c)) {\n          return c.test(val)\n        } else {\n          return c === val\n        }\n      }\n\n      const states = criteria[key]\n\n      // it is possible to pass 'states' or 'state'\n      if (key === 'state') {\n        key = 'states'\n      }\n\n      return Object.keys(states).every(s => node[key][s] === states[s])\n    })\n  }\n}\n\nfunction isRegExp (val) {\n  return val instanceof RegExp\n}\n\nfunction getAllChildren (source) {\n  const result = []\n\n  source.forEach(function collect (node) {\n    result.push(node)\n\n    if (node.children) {\n      node.children.forEach(collect)\n    }\n  })\n\n  return result\n}\n\nexport default function find (source, criteria, deep = true) {\n  if (!source || !source.length || !criteria) {\n    return null\n  }\n\n  if (deep) {\n    source = getAllChildren(source)\n  }\n\n  // find by index\n  if (typeof criteria === 'number') {\n    return source[criteria] || null\n  }\n\n  if (typeof criteria === 'string' || criteria instanceof RegExp) {\n    criteria = {\n      text: criteria\n    }\n  }\n\n  if (typeof criteria !== 'function') {\n    criteria = finder(criteria)\n  }\n\n  const result = source.filter(criteria)\n\n  if (result.length) {\n    return result\n  }\n\n  return null\n}\n","\n// it is not genuine GUIDs\n\nfunction s4 () {\n  return Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1)\n}\n\nexport default function uuidV4 () {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n    s4() + '-' + s4() + s4() + s4()\n}\n","\nfunction nodeIterator (context, method, ...args) {\n  context.forEach(node => node[method](...args))\n}\n\nexport default class Selection extends Array {\n  constructor (tree, items = []) {\n    /*eslint semi: 0 */\n    super();\n\n    this.tree = tree;\n    this.push(...items)\n  }\n\n  remove () {\n    nodeIterator(this, 'remove')\n    return this\n  }\n\n  expand () {\n    nodeIterator(this, 'expand')\n    return this\n  }\n\n  collapse () {\n    nodeIterator(this, 'collapse')\n    return this\n  }\n\n  select (extendList) {\n    nodeIterator(this, 'select', extendList)\n    return this\n  }\n\n  unselect () {\n    nodeIterator(this, 'unselect')\n    return this\n  }\n\n  check () {\n    if (this.tree.options.checkbox) {\n      nodeIterator(this, 'check')\n    }\n\n    return this\n  }\n\n  uncheck () {\n    if (this.tree.options.checkbox) {\n      nodeIterator(this, 'uncheck')\n    }\n\n    return this\n  }\n\n  disable () {\n    nodeIterator(this, 'disable')\n    return this\n  }\n\n  enable () {\n    nodeIterator(this, 'enable')\n    return this\n  }\n}\n","import { recurseDown } from '../utils/recurse'\nimport find from '../utils/find'\nimport uuidV4 from '../utils/uuidV4'\nimport Selection from '../lib/Selection'\n\nexport default class Node {\n  constructor (tree, item) {\n    if (!item) {\n      throw new Error('Node can not be empty')\n    }\n\n    this.id = item.id || uuidV4()\n    this.states = item.state || {}\n\n    this.showChildren = true\n    this.children = item.children || []\n    this.parent = item.parent || null\n\n    this.isBatch = item.isBatch || false\n    this.isEditing = false\n\n    this.data = Object.assign({}, item.data || {}, {\n      text: item.text\n    })\n\n    if (!tree) {\n      throw new Error('Node must have a Tree context!')\n    }\n\n    this.tree = tree\n  }\n\n  $emit (evnt, ...args) {\n    this.tree.$emit(`node:${evnt}`, this, ...args)\n  }\n\n  getPath () {\n    if (!this.parent) {\n      return [this]\n    }\n\n    const path = [this]\n    let el = this\n\n    while ((el = el.parent) !== null) {\n      path.push(el)\n    }\n\n    return path\n  }\n\n  get key () {\n    return this.id + this.text\n  }\n\n  get depth () {\n    let depth = 0\n    let parent = this.parent\n\n    if (!parent || this.showChildren === false) {\n      return depth\n    }\n\n    do {\n      depth++\n    } while (parent = parent.parent)\n\n    return depth\n  }\n\n  get text () {\n    return this.data.text\n  }\n\n  set text (text) {\n    const oldText = this.text\n\n    if (oldText !== text) {\n      this.data.text = text\n      this.$emit('text:changed', text, oldText)\n    }\n  }\n\n  setData (data) {\n    this.data = Object.assign({}, this.data, data)\n\n    this.$emit('data:changed', this.data)\n\n    return this.data\n  }\n\n  state (name, value) {\n    if (undefined === value) {\n      return this.states[name]\n    }\n\n    // TODO: check if it for example `selectable` state it should unselect node\n\n    this.states[name] = value\n\n    return this\n  }\n\n  recurseUp (fn, node = this) {\n    if (!node.parent) {\n      return\n    }\n\n    if (fn(node.parent) !== false) {\n      return this.recurseUp(fn, node.parent)\n    }\n  }\n\n  recurseDown (fn, ignoreThis) {\n    if (ignoreThis !== true) {\n      fn(this)\n    }\n\n    if (this.hasChildren()) {\n      recurseDown(this.children, fn)\n    }\n  }\n\n  refreshIndeterminateState () {\n    if (!this.tree.options.autoCheckChildren) {\n      return this\n    }\n\n    this.state('indeterminate', false)\n\n    if (this.hasChildren()) {\n      const childrenCount = this.children.length\n      let checked = 0\n      let indeterminate = 0\n      let disabled = 0\n\n      this.children.forEach(child => {\n        if (child.checked()) {\n          checked++\n        }\n\n        if (child.disabled()) {\n          disabled++\n        }\n\n        if (child.indeterminate()) {\n          indeterminate++\n        }\n      })\n\n      if (checked > 0 && checked === childrenCount - disabled) {\n        if (!this.checked()) {\n          this.state('checked', true)\n          this.tree.check(this)\n\n          this.$emit('checked')\n        }\n      } else {\n        if (this.checked()) {\n          this.state('checked', false)\n          this.tree.uncheck(this)\n\n          this.$emit('unchecked')\n        }\n\n        this.state(\n          'indeterminate',\n          indeterminate > 0 || (checked > 0 && checked < childrenCount)\n        )\n      }\n    }\n\n    if (this.parent) {\n      this.parent.refreshIndeterminateState()\n    }\n  }\n\n  indeterminate () {\n    return this.state('indeterminate')\n  }\n\n  editable () {\n    return !this.state('disabled') && this.state('editable')\n  }\n\n  selectable () {\n    return !this.state('disabled') && this.state('selectable')\n  }\n\n  selected () {\n    return this.state('selected')\n  }\n\n  select (extendList) {\n    if (!this.selectable() || this.selected()) {\n      return this\n    }\n\n    this.tree.select(this, extendList)\n\n    this.state('selected', true)\n    this.$emit('selected')\n\n    return this\n  }\n\n  unselect () {\n    if (!this.selectable() || !this.selected()) {\n      return this\n    }\n\n    this.tree.unselect(this)\n\n    this.state('selected', false)\n    this.$emit('unselected')\n\n    return this\n  }\n\n  checked () {\n    return this.state('checked')\n  }\n\n  check () {\n    if (this.checked() || this.disabled()) {\n      return this\n    }\n\n    if (this.indeterminate()) {\n      return this.uncheck()\n    }\n\n    const checkDisabledChildren = this.tree.options.checkDisabledChildren\n    const targetNode = this\n\n    if (this.tree.options.autoCheckChildren) {\n      this.recurseDown(node => {\n        node.state('indeterminate', false)\n\n        if (node.disabled() && !checkDisabledChildren) {\n          return\n        }\n\n        if (!node.checked()) {\n          this.tree.check(node)\n\n          node.state('checked', true)\n          node.$emit('checked', node.id === targetNode.id ? undefined : targetNode)\n        }\n      })\n\n      if (this.parent) {\n        this.parent.refreshIndeterminateState()\n      }\n    } else {\n      this.tree.check(this)\n\n      this.state('checked', true)\n      this.$emit('checked')\n    }\n\n    return this\n  }\n\n  uncheck () {\n    if (!this.indeterminate() && !this.checked() || this.disabled()) {\n      return this\n    }\n\n    const targetNode = this\n\n    if (this.tree.options.autoCheckChildren) {\n      this.recurseDown(node => {\n        node.state('indeterminate', false)\n\n        if (node.checked()) {\n          this.tree.uncheck(node)\n\n          node.state('checked', false)\n          node.$emit('unchecked', node.id === targetNode.id ? undefined : targetNode)\n        }\n      })\n\n      if (this.parent) {\n        this.parent.refreshIndeterminateState()\n      }\n    } else {\n      this.tree.uncheck(this)\n\n      this.state('checked', false)\n      this.$emit('unchecked')\n    }\n\n    return this\n  }\n\n  show () {\n    if (this.visible()) {\n      return this\n    }\n\n    this.state('visible', true)\n    this.$emit('shown')\n\n    return this\n  }\n\n  hide () {\n    if (this.hidden()) {\n      return this\n    }\n\n    this.state('visible', false)\n    this.$emit('hidden')\n\n    return this\n  }\n\n  visible () {\n    return this.state('visible')\n  }\n\n  hidden () {\n    return !this.state('visible')\n  }\n\n  enable () {\n    if (this.enabled()) {\n      return this\n    }\n\n    if (this.tree.options.autoDisableChildren) {\n      this.recurseDown(node => {\n        if (node.disabled()) {\n          node.state('disabled', false)\n          node.$emit('enabled')\n        }\n      })\n    } else {\n      this.state('disabled', false)\n      this.$emit('enabled')\n    }\n\n    return this\n  }\n\n  enabled () {\n    return !this.state('disabled')\n  }\n\n  disable () {\n    if (this.disabled()) {\n      return this\n    }\n\n    if (this.tree.options.autoDisableChildren) {\n      this.recurseDown(node => {\n        if (node.enabled()) {\n          node.state('disabled', true)\n          node.$emit('disabled')\n        }\n      })\n    } else {\n      this.state('disabled', true)\n      this.$emit('disabled')\n    }\n\n    return this\n  }\n\n  disabled () {\n    return this.state('disabled')\n  }\n\n  expandTop (ignoreEvent) {\n    this.recurseUp(parent => {\n      parent.state('expanded', true)\n\n      if (ignoreEvent !== true) {\n        this.$emit('expanded', parent)\n      }\n    })\n  }\n\n  expand () {\n    if (!this.canExpand()) {\n      return this\n    }\n\n    if (this.isBatch) {\n      this.tree.loadChildren(this).then(_ => {\n        this.state('expanded', true)\n        this.$emit('expanded')\n      })\n    } else {\n      this.state('expanded', true)\n      this.$emit('expanded')\n    }\n\n    return this\n  }\n\n  canExpand () {\n    return this.collapsed() &&\n      (!this.tree.autoDisableChildren || this.disabled())\n  }\n\n  canCollapse () {\n    return this.expanded() &&\n      (!this.tree.autoDisableChildren || this.disabled())\n  }\n\n  expanded () {\n    return this.state('expanded')\n  }\n\n  collapse () {\n    if (!this.canCollapse()) {\n      return this\n    }\n\n    this.state('expanded', false)\n    this.$emit('collapsed')\n\n    return this\n  }\n\n  collapsed () {\n    return !this.state('expanded')\n  }\n\n  toggleExpand () {\n    return this._toggleOpenedState()\n  }\n\n  toggleCollapse () {\n    return this._toggleOpenedState()\n  }\n\n  _toggleOpenedState () {\n    if (this.canCollapse()) {\n      return this.collapse()\n    } else if (this.canExpand()) {\n      return this.expand()\n    }\n  }\n\n  isDropable () {\n    return this.enabled() && this.state('dropable')\n  }\n\n  isDraggable () {\n    return this.enabled() && this.state('draggable') && !this.isEditing\n  }\n\n  startDragging () {\n    if (!this.isDraggable() || this.state('dragging')) {\n      return false\n    }\n\n    // root element\n    if (this.isRoot() && this.tree.model.length === 1) {\n      return false\n    }\n\n    if (this.tree.options.store) {\n      this.tree.__silence = true\n    }\n\n    this.select()\n    this.state('dragging', true)\n    this.$emit('dragging:start')\n\n    this.tree.__silence = false\n\n    return true\n  }\n\n  finishDragging (destination, destinationPosition) {\n    if (!destination.isDropable() && destinationPosition === 'drag-on') {\n      return\n    }\n\n    const tree = this.tree\n    const clone = this.clone()\n    const parent = this.parent\n\n    clone.id = this.id\n    tree.__silence = true\n\n    this.remove()\n\n    if (destinationPosition === 'drag-on') {\n      tree.append(destination, clone)\n    } else if (destinationPosition === 'drag-below') {\n      tree.after(destination, clone)\n    } else if (destinationPosition === 'drag-above') {\n      tree.before(destination, clone)\n    }\n\n    destination.refreshIndeterminateState()\n\n    parent && parent.refreshIndeterminateState()\n    tree.__silence = false\n\n    clone.state('dragging', false)\n    this.state('dragging', false)\n    // need to call emit on the clone, because we need to have node.parent filled in the event listener\n    clone.$emit('dragging:finish', destination, destinationPosition)\n\n    if (clone.state('selected')) {\n      tree.selectedNodes.remove(this)\n      tree.selectedNodes.add(clone)\n\n      tree.vm.$set(this.state, 'selected', false)\n      tree.vm.$set(clone.state, 'selected', true)\n    }\n\n    if (this.tree.options.store) {\n      this.tree.vm.$emit('LIQUOR_NOISE')\n    }\n  }\n\n  startEditing () {\n    if (this.disabled()) {\n      return false\n    }\n\n    if (!this.isEditing) {\n      this.tree._editingNode = this\n      this.tree.activeElement = this\n      this.isEditing = true\n      this.$emit('editing:start')\n    }\n  }\n\n  stopEditing (newText) {\n    if (!this.isEditing) {\n      return\n    }\n\n    this.isEditing = false\n    this.tree._editingNode = null\n    this.tree.activeElement = null\n\n    const prevText = this.text\n\n    if (newText && newText !== false && this.text !== newText) {\n      this.text = newText\n    }\n\n    this.$emit('editing:stop', prevText)\n  }\n\n  index (verbose) {\n    return this.tree.index(this, verbose)\n  }\n\n  first () {\n    if (!this.hasChildren()) {\n      return null\n    }\n\n    return this.children[0]\n  }\n\n  last () {\n    if (!this.hasChildren()) {\n      return null\n    }\n\n    return this.children[this.children.length - 1]\n  }\n\n  next () {\n    return this.tree.nextNode(this)\n  }\n\n  prev () {\n    return this.tree.prevNode(this)\n  }\n\n  insertAt (node, index = this.children.length) {\n    if (!node) {\n      return\n    }\n\n    node = this.tree.objectToNode(node)\n\n    if (Array.isArray(node)) {\n      node\n        .reverse()\n        .map(n => this.insertAt(n, index))\n\n      return new Selection(this.tree, [...node])\n    }\n\n    node.parent = this\n\n    this.children.splice(\n      index, 0, node\n    )\n\n    if (node.disabled() && node.hasChildren()) {\n      node.recurseDown(child => {\n        child.state('disabled', true)\n      })\n    }\n\n    if (!this.isBatch) {\n      this.$emit('added', node)\n    }\n\n    return node\n  }\n\n  addChild (node) {\n    return this.insertAt(node)\n  }\n\n  append (node) {\n    return this.addChild(node)\n  }\n\n  prepend (node) {\n    return this.insertAt(node, 0)\n  }\n\n  before (node) {\n    return this.tree.before(this, node)\n  }\n\n  after (node) {\n    return this.tree.after(this, node)\n  }\n\n  empty () {\n    let node\n\n    while (node = this.children.pop()) {\n      node.remove()\n    }\n\n    return this\n  }\n\n  remove () {\n    return this.tree.removeNode(this)\n  }\n\n  removeChild (criteria) {\n    const node = this.find(criteria)\n\n    if (node) {\n      return this.tree.removeNode(node)\n    }\n\n    return null\n  }\n\n  find (criteria, deep) {\n    if (this.tree.isNode(criteria)) {\n      return criteria\n    }\n\n    return find(this.children, criteria, deep)\n  }\n\n  focus () {\n    if (this.vm) {\n      this.vm.focus()\n    }\n  }\n\n  hasChildren () {\n    return this.showChildren && this.isBatch || this.children.length > 0\n  }\n\n  /**\n  * Sometimes it's no need to have a parent. It possible to have more than 1 parent\n  */\n  isRoot () {\n    return this.parent === null\n  }\n\n  clone () {\n    return this.tree.objectToNode(this.toJSON())\n  }\n\n  toJSON () {\n    return {\n      text: this.text,\n      data: this.data,\n      state: this.states,\n      children: this.children.map(node => this.tree.objectToNode(node).toJSON())\n    }\n  }\n}\n","import Node from '../lib/Node'\nimport uuidV4 from '../utils/uuidV4'\n\n/**\n* Default Node's states\n*/\nconst nodeStates = {\n  selected: false,\n  selectable: true,\n  checked: false,\n  expanded: false,\n  disabled: false,\n  visible: true,\n  indeterminate: false,\n  matched: false,\n  editable: true,\n  dragging: false,\n  draggable: true,\n  dropable: true\n}\n\nfunction merge (state = {}) {\n  return Object.assign({}, nodeStates, state)\n}\n\nexport default function objectToNode (tree, obj) {\n  let node = null\n\n  if (obj instanceof Node) {\n    return obj\n  }\n\n  if (typeof obj === 'string') {\n    node = new Node(tree, {\n      text: obj,\n      state: merge(),\n      id: uuidV4()\n    })\n  } else if (Array.isArray(obj)) {\n    return obj.map(o => objectToNode(tree, o))\n  } else {\n    node = new Node(tree, obj)\n    node.states = merge(node.states)\n\n    if (!node.id) {\n      node.id = uuidV4()\n    }\n\n    if (node.children.length) {\n      node.children = node.children.map(child => {\n        child = objectToNode(tree, child)\n        child.parent = node\n\n        return child\n      })\n    }\n  }\n\n  return node\n}\n","\nexport class List extends Array {\n  empty () {\n    this.splice(0, this.length)\n\n    return this\n  }\n\n  has (item) {\n    return this.includes(item)\n  }\n\n  add (...items) {\n    this.push(...items)\n\n    return this\n  }\n\n  remove (item) {\n    const index = this.indexOf(item)\n\n    if (index === -1) {\n      return this\n    }\n\n    this.splice(index, 1)\n\n    return this\n  }\n\n  removeAll (item) {\n    while (this.includes(item)) {\n      this.remove(item)\n    }\n\n    return this\n  }\n\n  top () {\n    return this[this.length - 1]\n  }\n}\n","import objectToNode from '../utils/objectToNode'\n\n/**\n  Every Node has certain format:\n  {\n    id,           // Unique Node id. By default it generates using uuidV4\n    text,         // Node text\n    children,     // List of children. Each children has the same format\n    parent,       // Parent Node or null. The tree is able to have more than 1 root node\n    state,        // States of Node. Ex.: selected, checked and so on\n    data          // Any types of data. It is similar to `storage`.\n                  // Ex.: data: {myAwesomeProperty: 10}. To get this property you need: Node.data('myAwesomeProperty')\n  }\n*/\n\nconst defaultPropertyNames = {\n  id: 'id',\n  text: 'text',\n  children: 'children',\n  state: 'state',\n  data: 'data',\n  isBatch: 'isBatch'\n}\n\nfunction convertNames (obj, names) {\n  return {\n    id: obj[names.id],\n    text: obj[names.text],\n    children: obj[names.children],\n    state: obj[names.state],\n    data: obj[names.data],\n    isBatch: obj[names.isBatch]\n  }\n}\n\nconst TreeParser = {\n  parse (data, tree, options = {}) {\n    if (typeof data === 'string') {\n      data = JSON.parse(data)\n    }\n\n    if (!Array.isArray(data)) {\n      data = [data]\n    }\n\n    const p = Object.assign(\n      {},\n      defaultPropertyNames,\n      options\n    )\n\n    const preparedItems = data.map(function converter (item) {\n      const convertedItem = convertNames(item, p)\n\n      // Possible to receive 1 child like a simple object. It must be converted to an array\n      // We do not have checks on the correctness of the format. A developer should pass correct format\n      if (convertedItem.children && !Array.isArray(convertedItem.children)) {\n        convertedItem.children = [convertedItem.children]\n      }\n\n      if (convertedItem.children) {\n        convertedItem.children = convertedItem.children.map(converter)\n      }\n\n      return convertedItem\n    })\n\n    return preparedItems.map(item => objectToNode(tree, item))\n  }\n}\n\nexport { TreeParser }\n","/*eslint no-undef: 0 */\n\nfunction request (url) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest()\n\n    xhr.open('GET', url)\n    xhr.setRequestHeader('Content-Type', 'application/json')\n    xhr.addEventListener('load', _ => {\n      try {\n        const response = JSON.parse(xhr.response)\n\n        resolve(response)\n      } catch (e) {\n        reject(e)\n      }\n    })\n\n    xhr.send(null)\n  })\n}\n\nexport function get (url) {\n  return request(url)\n}\n\nexport function createTemplate (template) {\n  return source => {\n    const re = /{([^}]+)}/\n    let m\n    let result = template\n\n    while (m = re.exec(result)) {\n      result = result.replace(m[0], source[m[1]])\n    }\n\n    return result\n  }\n}\n","\nfunction orderAsc (node0, node1) {\n  if (node0.text < node1.text) {\n    return -1\n  }\n\n  if (node0.text > node1.text) {\n    return 1\n  }\n\n  return 0\n}\n\nfunction orderDesc (node0, node1) {\n  if (node0.text < node1.text) {\n    return 1\n  }\n\n  if (node0.text > node1.text) {\n    return -1\n  }\n\n  return 0\n}\n\nfunction getCompareFunction (order) {\n  switch (order.toLowerCase()) {\n    case 'asc': return orderAsc\n    case 'desc': return orderDesc\n  }\n}\n\nexport default (source, compareFunction) => {\n  if (typeof compareFunction === 'string') {\n    compareFunction = getCompareFunction(compareFunction)\n  }\n\n  if (Array.isArray(source) && typeof compareFunction === 'function') {\n    source.sort(compareFunction)\n  }\n}\n","export default function (ms) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms)\n  })\n}\n","import Node from '../lib/Node'\nimport Selection from '../lib/Selection'\n\nimport find from '../utils/find'\nimport objectToNode from '../utils/objectToNode'\nimport { List } from '../utils/stack'\nimport { TreeParser } from '../utils/treeParser'\nimport { recurseDown } from '../utils/recurse'\nimport { get, createTemplate } from '../utils/request'\nimport sort from '../utils/sort'\nimport fetchDelay from '../utils/fetchDelay'\n\nexport default class Tree {\n  constructor (vm) {\n    this.vm = vm\n    this.options = vm.opts\n\n    this.activeElement = null\n\n    // We have to convert 'fetchData' to function. It must return Promise always\n    const fetchData = this.options.fetchData\n\n    if (typeof fetchData === 'string') {\n      this.options.fetchData = ((template) => {\n        const urlTemplate = createTemplate(template)\n\n        return node => {\n          return get(urlTemplate(node)).catch(this.options.onFetchError)\n        }\n      })(fetchData)\n    }\n  }\n\n  $on (name, ...args) {\n    this.vm.$on(name, ...args)\n  }\n\n  $once (name, ...args) {\n    this.vm.$once(name, ...args)\n  }\n\n  $off (name, ...args) {\n    this.vm.$off(name, ...args)\n  }\n\n  $emit (name, ...args) {\n    if (this.__silence) {\n      return\n    }\n\n    this.vm.$emit(name, ...args)\n\n    if (this.options.store) {\n      this.vm.$emit('LIQUOR_NOISE')\n    }\n  }\n\n  _sort (source, compareFn, deep) {\n    if (deep !== false) {\n      this.recurseDown(source, node => {\n        if (node.hasChildren()) {\n          sort(node.children, compareFn)\n        }\n      })\n    }\n\n    sort(source, compareFn)\n  }\n\n  sortTree (compareFn, deep) {\n    this._sort(this.model, compareFn, deep)\n  }\n\n  sort (query, compareFn, deep) {\n    const targetNode = this.find(query, true)\n\n    if (!targetNode || !compareFn) {\n      return\n    }\n\n    targetNode.forEach(node => {\n      this._sort(node.children, compareFn, deep)\n    })\n  }\n\n  clearFilter () {\n    this.recurseDown(node => {\n      node.state('matched', false)\n      node.state('visible', true)\n      node.state('expanded', node.__expanded)\n\n      node.__expanded = undefined\n      node.showChildren = true\n    })\n\n    this.vm.matches.length = 0\n    this.vm.$emit('tree:filtered', [], '')\n  }\n\n  filter (query) {\n    if (!query) {\n      return this.clearFilter()\n    }\n\n    const matches = []\n    const predicate = this.options.filter.matcher\n    const { showChildren, plainList } = this.options.filter\n\n    // collect nodes\n    this.recurseDown(node => {\n      if (predicate(query, node)) {\n        matches.push(node)\n      }\n\n      node.showChildren = true\n\n      // save prev `expanded` state\n      if (undefined === node.__expanded) {\n        node.__expanded = node.state('expanded')\n      }\n\n      node.state('visible', false)\n      node.state('matched', false)\n      node.state('expanded', true)\n    })\n\n    matches.reverse().forEach(node => {\n      node.state('matched', true)\n      node.state('visible', true)\n\n      node.showChildren = !plainList\n\n      if (node.hasChildren()) {\n        node.recurseDown(n => {\n          n.state('visible', !!showChildren)\n        }, true)\n      }\n\n      node.recurseUp(parent => {\n        parent.state('visible', true)\n        parent.state('expanded', true)\n      })\n\n      if (node.hasChildren()) {\n        node.state('expanded', false)\n      }\n    })\n\n    this.vm.matches = matches\n\n    this.vm.$emit('tree:filtered', matches, query)\n\n    return matches\n  }\n\n  selected () {\n    return new Selection(this, ...this.selectedNodes)\n  }\n\n  checked () {\n    if (!this.options.checkbox) {\n      return null\n    }\n\n    return new Selection(this, ...this.checkedNodes)\n  }\n\n  loadChildren (node) {\n    if (!node) {\n      return\n    }\n\n    this.$emit('tree:data:fetch', node)\n\n    if (this.options.minFetchDelay > 0 && node.vm) {\n      node.vm.loading = true\n    }\n\n    const result = this.fetch(node)\n      .then(children => {\n        node.append(children)\n        node.isBatch = false\n\n        if (this.options.autoCheckChildren) {\n          if (node.checked()) {\n            node.recurseDown(child => {\n              child.state('checked', true)\n            })\n          }\n\n          node.refreshIndeterminateState()\n        }\n\n        this.$emit('tree:data:received', node)\n      })\n\n    return Promise.all([\n      fetchDelay(this.options.minFetchDelay),\n      result\n    ]).then(_ => {\n      if (node.vm) {\n        node.vm.loading = false\n      }\n\n      return result\n    })\n  }\n\n  fetch (node, parseData) {\n    let result = this.options.fetchData(node)\n\n    if (!result.then) {\n      result = get(result)\n        .catch(this.options.onFetchError)\n    }\n\n    if (parseData === false) {\n      return result\n    }\n\n    return result\n      .then(data => {\n        try {\n          return this.parse(data, this.options.modelParse)\n        } catch (e) {\n          throw new Error(e)\n        }\n      })\n      .catch(this.options.onFetchError)\n  }\n\n  fetchInitData () {\n    // simulate root node\n    const node = {\n      id: 'root',\n      name: 'root'\n    }\n\n    return this.fetch(node, false)\n  }\n\n  setModel (data) {\n    return new Promise(resolve => {\n      this.model = this.parse(data, this.options.modelParse)\n\n      /* eslint-disable */\n      requestAnimationFrame(_ => {\n        this.vm.model = this.model\n        resolve()\n      })\n      /* eslint-enable */\n\n      /**\n      * VueJS transform properties to reactives when constructor is running\n      * And we lose List object (extended from Array)\n      */\n      this.selectedNodes = new List()\n      this.checkedNodes = new List()\n\n      recurseDown(this.model, node => {\n        node.tree = this\n\n        if (node.selected()) {\n          this.selectedNodes.add(node)\n        }\n\n        if (node.checked()) {\n          this.checkedNodes.add(node)\n\n          if (node.parent) {\n            node.parent.refreshIndeterminateState()\n          }\n        }\n\n        if (this.options.autoDisableChildren && node.disabled()) {\n          node.recurseDown(child => {\n            child.state('disabled', true)\n          })\n        }\n      })\n\n      if (!this.options.multiple && this.selectedNodes.length) {\n        const top = this.selectedNodes.top()\n\n        this.selectedNodes.forEach(node => {\n          if (top !== node) {\n            node.state('selected', false)\n          }\n        })\n\n        this.selectedNodes\n          .empty()\n          .add(top)\n      }\n\n      // Nodes can't be selected on init. By it's possible to select through API\n      if (this.options.checkOnSelect && this.options.checkbox) {\n        this.unselectAll()\n      }\n    })\n  }\n\n  recurseDown (node, fn) {\n    if (!fn && node) {\n      fn = node\n      node = this.model\n    }\n\n    if (typeof fn !== 'function') {\n      new TypeError('Argument must be a function')\n    }\n\n    return recurseDown(node, fn)\n  }\n\n  select (node, extendList) {\n    const treeNode = this.getNode(node)\n\n    if (!treeNode) {\n      return false\n    }\n\n    if (this.options.multiple && extendList) {\n      this.selectedNodes.add(treeNode)\n    } else {\n      this.unselectAll()\n      this.selectedNodes\n        .empty()\n        .add(treeNode)\n    }\n\n    return true\n  }\n\n  selectAll () {\n    if (!this.options.multiple) {\n      return false\n    }\n\n    this.selectedNodes.empty()\n\n    this.recurseDown(node => {\n      this.selectedNodes.add(\n        node.select(true)\n      )\n    })\n\n    return true\n  }\n\n  unselect (node) {\n    const treeNode = this.getNode(node)\n\n    if (!treeNode) {\n      return false\n    }\n\n    this.selectedNodes.remove(treeNode)\n\n    return true\n  }\n\n  unselectAll () {\n    let node\n\n    while (node = this.selectedNodes.pop()) {\n      node.unselect()\n    }\n\n    return true\n  }\n\n  check (node) {\n    this.checkedNodes.add(node)\n  }\n\n  uncheck (node) {\n    this.checkedNodes.remove(node)\n  }\n\n  checkAll () {\n    this.recurseDown(node => {\n      if (node.depth === 0) {\n        if (node.indeterminate()) {\n          node.state('indeterminate', false)\n        }\n\n        node.check()\n      }\n    })\n  }\n\n  uncheckAll () {\n    let node\n\n    while (node = this.checkedNodes.pop()) {\n      node.uncheck()\n    }\n\n    return true\n  }\n\n  expand (node) {\n    if (node.expanded()) {\n      return false\n    }\n\n    node.expand()\n\n    return true\n  }\n\n  collapse (node) {\n    if (node.collapsed()) {\n      return false\n    }\n\n    node.collapse()\n\n    return true\n  }\n\n  toggleExpand (node) {\n    if (!node.hasChildren()) {\n      return false\n    }\n\n    node.toggleExpand()\n\n    return true\n  }\n\n  toggleCollapse (node) {\n    if (!node.hasChildren()) {\n      return false\n    }\n\n    node.toggleCollapse()\n\n    return true\n  }\n\n  expandAll () {\n    this.recurseDown(node => {\n      if (node.hasChildren() && node.collapsed()) {\n        node.expand()\n      }\n    })\n  }\n\n  collapseAll () {\n    this.recurseDown(node => {\n      if (node.hasChildren() && node.expanded()) {\n        node.collapse()\n      }\n    })\n  }\n\n  index (node, verbose) {\n    let target = node.parent\n\n    if (target) {\n      target = target.children\n    } else {\n      target = this.model\n    }\n\n    const index = target.indexOf(node)\n\n    if (verbose) {\n      return {\n        index: index,\n        target,\n        node: target[index]\n      }\n    }\n\n    return index\n  }\n\n  nextNode (node) {\n    const { target, index } = this.index(node, true)\n\n    return target[index + 1] || null\n  }\n\n  nextVisibleNode (node) {\n    if (node.hasChildren() && node.expanded()) {\n      return node.first()\n    }\n\n    const nextNode = this.nextNode(node)\n\n    if (!nextNode && node.parent) {\n      return node.parent.next()\n    }\n\n    return nextNode\n  }\n\n  prevNode (node) {\n    const { target, index } = this.index(node, true)\n\n    return target[index - 1] || null\n  }\n\n  prevVisibleNode (node) {\n    const prevNode = this.prevNode(node)\n\n    if (!prevNode) {\n      return node.parent\n    }\n\n    if (prevNode.hasChildren() && prevNode.expanded()) {\n      return prevNode.last()\n    }\n\n    return prevNode\n  }\n\n  addToModel (node, index = this.model.length) {\n    node = this.objectToNode(node)\n\n    this.model.splice(index, 0, node)\n    this.recurseDown(node, n => {\n      n.tree = this\n    })\n\n    this.$emit('node:added', node)\n\n    return node\n  }\n\n  append (criteria, node) {\n    const targetNode = this.find(criteria)\n\n    if (targetNode) {\n      return targetNode.append(node)\n    }\n\n    return false\n  }\n\n  prepend (criteria, node) {\n    const targetNode = this.find(criteria)\n\n    if (targetNode) {\n      return targetNode.prepend(node)\n    }\n\n    return false\n  }\n\n  before (targetNode, sourceNode) {\n    targetNode = this.find(targetNode)\n\n    const position = this.index(targetNode, true)\n    const node = this.objectToNode(sourceNode)\n\n    if (!~position.index) {\n      return false\n    }\n\n    position.target.splice(\n      position.index,\n      0,\n      node\n    )\n\n    node.parent = targetNode.parent\n    this.$emit('node:added', node)\n\n    return node\n  }\n\n  after (targetNode, sourceNode) {\n    targetNode = this.find(targetNode)\n\n    const position = this.index(targetNode, true)\n    const node = this.objectToNode(sourceNode)\n\n    if (!~position.index) {\n      return false\n    }\n\n    position.target.splice(\n      position.index + 1,\n      0,\n      node\n    )\n\n    node.parent = targetNode.parent\n    this.$emit('node:added', node)\n\n    return node\n  }\n\n  addNode (node) {\n    const index = this.model.length\n\n    node = objectToNode(node)\n\n    this.model.splice(index, 0, node)\n    this.$emit('node:added', node)\n\n    return node\n  }\n\n  remove (criteria, multiple) {\n    return this.removeNode(\n      this.find(criteria, multiple)\n    )\n  }\n\n  removeNode (node) {\n    if (node instanceof Selection) {\n      return node.remove()\n    }\n\n    if (!node) {\n      return false\n    }\n\n    if (!node.parent) {\n      if (~this.model.indexOf(node)) {\n        this.model.splice(\n          this.model.indexOf(node),\n          1\n        )\n      }\n    } else {\n      const children = node.parent.children\n\n      if (~children.indexOf(node)) {\n        children.splice(\n          children.indexOf(node),\n          1\n        )\n      }\n    }\n\n    if (node.parent) {\n      if (node.parent.indeterminate() && !node.parent.hasChildren()) {\n        node.parent.state('indeterminate', false)\n      }\n    }\n\n    if (this.activeElement !== null) {\n      if (node.id === this.activeElement.id) {\n        this.activeElement = null\n      }\n    }\n\n    node.parent = null\n\n    this.$emit('node:removed', node)\n\n    this.selectedNodes.remove(node)\n    this.checkedNodes.remove(node)\n\n    const matches = this.vm.matches\n\n    if (matches && matches.length) {\n      if (matches.includes(node)) {\n        matches.splice(\n          matches.indexOf(node),\n          1\n        )\n      }\n    }\n\n    return node\n  }\n\n  isNode (node) {\n    return node instanceof Node\n  }\n\n  find (criteria, multiple) {\n    if (this.isNode(criteria)) {\n      return criteria\n    }\n\n    const result = find(this.model, criteria)\n\n    if (!result || !result.length) {\n      return new Selection(this, [])\n    }\n\n    if (multiple === true) {\n      return new Selection(this, result)\n    }\n\n    return new Selection(this, [result[0]])\n  }\n\n  updateData (criteria, callback) {\n    const nodes = this.find(criteria)\n\n    nodes.forEach(node => node.setData(callback(node)))\n\n    return nodes\n  }\n\n  getNodeById (id) {\n    let targetNode = null\n\n    recurseDown(this.model, node => {\n      if ('' + node.id === id) {\n        targetNode = node\n        return false\n      }\n    })\n\n    return targetNode\n  }\n\n  getNode (node) {\n    if (this.isNode(node)) {\n      return node\n    }\n\n    return null\n  }\n\n  objectToNode (obj) {\n    return objectToNode(this, obj)\n  }\n\n  parse (data, options) {\n    if (!options) {\n      options = this.options.propertyNames\n    }\n\n    try {\n      return TreeParser.parse(data, this, options)\n    } catch (e) {\n      return []\n    }\n  }\n}\n","\nconst keyCodes = {\n  'ARROW_LEFT': 37,\n  'ARROW_TOP': 38,\n  'ARROW_RIGHT': 39,\n  'ARROW_BOTTOM': 40,\n  'SPACE': 32,\n  'DELETE': 46,\n  'ENTER': 13,\n  'ESC': 27\n}\n\nconst codesArr = [37, 38, 39, 40, 32]\n\nfunction focusUp (tree, node) {\n  const prevNode = tree.prevVisibleNode(node)\n\n  if (!prevNode) {\n    return\n  }\n\n  if (prevNode.disabled()) {\n    return focusUp(tree, prevNode)\n  }\n\n  prevNode.focus()\n}\n\nfunction focusdDown (tree, node) {\n  const nextNode = tree.nextVisibleNode(node)\n\n  if (!nextNode) {\n    return\n  }\n\n  if (nextNode.disabled()) {\n    return focusdDown(tree, nextNode)\n  }\n\n  nextNode.focus()\n}\n\nfunction checkNode (tree, node) {\n  if (!tree.options.checkbox) {\n    return\n  }\n\n  if (node.checked()) {\n    node.uncheck()\n  } else {\n    node.check()\n  }\n}\n\nfunction leftArrow (tree, node) {\n  if (node.expanded()) {\n    node.collapse()\n  } else {\n    const parent = node.parent\n\n    if (parent) {\n      parent.focus()\n    }\n  }\n}\n\nfunction rightArrow (tree, node) {\n  if (node.collapsed()) {\n    node.expand()\n  } else {\n    const first = node.first()\n\n    if (first) {\n      first.focus()\n    }\n  }\n}\n\nfunction deleteNode (tree, node) {\n  const deletion = tree.options.deletion\n\n  if (deletion) {\n    if (typeof deletion === 'function') {\n      if (deletion(node) === true) {\n        node.remove()\n      }\n    } else if (deletion === true) {\n      node.remove()\n    }\n  }\n}\n\nexport default function (tree) {\n  const vm = tree.vm\n  const $el = vm.$el\n\n  $el.addEventListener('keydown', e => {\n    const code = e.keyCode\n    const node = tree.activeElement\n\n    if (!tree.isNode(node)) {\n      return\n    }\n\n    if (node.isEditing) {\n      switch (code) {\n        case keyCodes.ESC: return node.stopEditing(false)\n      }\n    } else {\n      if (codesArr.includes(code)) {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n\n      switch (code) {\n        case keyCodes.ARROW_LEFT: return leftArrow(tree, node)\n        case keyCodes.ARROW_RIGHT: return rightArrow(tree, node)\n        case keyCodes.ARROW_TOP: return focusUp(tree, node)\n        case keyCodes.ARROW_BOTTOM: return focusdDown(tree, node)\n        case keyCodes.SPACE:\n        case keyCodes.ENTER: return checkNode(tree, node)\n        case keyCodes.DELETE: return deleteNode(tree, node)\n      }\n    }\n  }, true)\n}\n","export default function assert (truth, message) {\n  if (truth === false) {\n    throw new Error(message)\n  }\n}\n","import Tree from '../lib/Tree'\nimport initKeyboardNavigation from '../utils/keyboardNavigation'\nimport assert from '../utils/assert'\n\nfunction initEvents (vm) {\n  const { multiple, checkbox } = vm.opts\n  const tree = vm.tree\n\n  const emitter = (obj) => {\n    const selected = vm.selected()\n\n    if (!checkbox) {\n      vm.$emit('input', multiple ? selected : (selected[0] || null))\n    } else {\n      vm.$emit('input', {\n        selected: multiple ? selected : (selected[0] || null),\n        checked: vm.checked()\n      })\n    }\n  }\n\n  emitter()\n\n  tree.$on('node:selected', emitter)\n  tree.$on('node:unselected', emitter)\n\n  if (checkbox) {\n    tree.$on('node:checked', emitter)\n    tree.$on('node:unchecked', emitter)\n  }\n\n  tree.$on('node:added', (targetNode, newNode) => {\n    const node = newNode || targetNode\n\n    if (checkbox) {\n      if (node.state('checked') && !tree.checkedNodes.has(node)) {\n        tree.checkedNodes.add(node)\n      }\n\n      node.refreshIndeterminateState()\n    }\n\n    if (node.state('selected') && !tree.selectedNodes.has(node)) {\n      tree.select(node)\n    }\n\n    emitter()\n  })\n}\n\nexport default {\n  mounted () {\n    const tree = new Tree(this)\n    let dataProvider\n\n    this.tree = tree\n    this._provided.tree = tree\n\n    if (!this.data && this.opts.fetchData) {\n      // Get initial data if we don't have a data directly\n      // In this case we call 'fetcher' with node.id == 'root' && node.name == 'root'\n      dataProvider = tree.fetchInitData()\n    } else if (this.data && this.data.then) {\n      // Yeah... nice check!\n      dataProvider = this.data\n      this.loading = true\n    } else {\n      dataProvider = Promise.resolve(this.data)\n    }\n\n    dataProvider.then(data => {\n      if (!data) {\n        data = []\n      }\n\n      if (this.opts.store) {\n        this.connectStore(this.opts.store)\n      } else {\n        this.tree.setModel(data)\n      }\n\n      if (this.loading) {\n        this.loading = false\n      }\n\n      this.$emit('tree:mounted', this)\n\n      initEvents(this)\n    })\n\n    if (this.opts.keyboardNavigation !== false) {\n      initKeyboardNavigation(tree)\n    }\n  },\n\n  methods: {\n    connectStore (store) {\n      const { store: Store, mutations, getter, dispatcher } = store\n\n      assert(typeof getter === 'function', '`getter` must be a function')\n      assert(typeof dispatcher === 'function', '`dispatcher` must be a function')\n\n      if (undefined !== mutations) {\n        assert(Array.isArray(mutations), '`mutations` must be an array')\n      }\n\n      Store.subscribe((action, state) => {\n        if (!mutations) {\n          this.tree.setModel(getter())\n        } else if (mutations.includes(action.type)) {\n          this.tree.setModel(getter())\n        }\n      })\n\n      this.tree.setModel(getter())\n\n      this.$on('LIQUOR_NOISE', () => {\n        this.$nextTick(_ => {\n          dispatcher(this.toJSON())\n        })\n      })\n    },\n\n    recurseDown (fn) {\n      this.tree.recurseDown(fn)\n    },\n\n    selected () {\n      return this.tree.selected()\n    },\n\n    checked () {\n      return this.tree.checked()\n    },\n\n    append (criteria, node) {\n      // append to model\n      if (!node) {\n        return this.tree.addToModel(criteria, this.tree.model.length)\n      }\n\n      return this.tree.append(criteria, node)\n    },\n\n    prepend (criteria, node) {\n      if (!node) {\n        return this.tree.addToModel(criteria, 0)\n      }\n\n      return this.tree.prepend(criteria, node)\n    },\n\n    addChild (criteria, node) {\n      return this.append(criteria, node)\n    },\n\n    remove (criteria, multiple) {\n      return this.tree.remove(criteria, multiple)\n    },\n\n    before (criteria, node) {\n      if (!node) {\n        return this.prepend(criteria)\n      }\n\n      return this.tree.before(criteria, node)\n    },\n\n    after (criteria, node) {\n      if (!node) {\n        return this.append(criteria)\n      }\n\n      return this.tree.after(criteria, node)\n    },\n\n    find (criteria, multiple) {\n      return this.tree.find(criteria, multiple)\n    },\n\n    findAll (criteria) {\n      return this.tree.find(criteria, true)\n    },\n\n    expandAll () {\n      return this.tree.expandAll()\n    },\n\n    updateData (criteria, callback) {\n      return this.tree.updateData(criteria, callback)\n    },\n\n    collapseAll () {\n      return this.tree.collapseAll()\n    },\n\n    sortTree (compareFn, deep) {\n      return this.tree.sortTree(compareFn, deep)\n    },\n\n    sort (...args) {\n      return this.tree.sort(...args)\n    },\n\n    setModel (data) {\n      return this.tree.setModel(data)\n    },\n\n    getRootNode () {\n      return this.tree.model.length === 1\n        ? this.tree.model[0]\n        : this.tree.model\n    },\n\n    toJSON () {\n      return JSON.parse(\n        JSON.stringify(this.model)\n      )\n    }\n  }\n\n/*eslint semi: 0 */\n/* https://github.com/vuejs/rollup-plugin-vue/issues/169 */\n};\n","const DropPosition = {\n  ABOVE: 'drag-above',\n  BELOW: 'drag-below',\n  ON: 'drag-on'\n}\n\nfunction isMovingStarted (event, start) {\n  return Math.abs(event.clientX - start[0]) > 5 || Math.abs(event.clientY - start[1]) > 5\n}\n\nfunction composedPath (event) {\n  let el = event.target\n  const path = []\n\n  while (el) {\n    path.push(el)\n\n    if (el.tagName === 'HTML') {\n      path.push(document)\n      path.push(window)\n\n      return path\n    }\n\n    el = el.parentElement\n  }\n\n  return path\n}\n\nfunction getPath (event) {\n  if (event.path) {\n    return event.path\n  }\n\n  if (event.composedPath) {\n    return event.composedPath()\n  }\n\n  return composedPath(event)\n}\n\nfunction getSelectedNode (event) {\n  let className\n  let i = 0\n\n  const path = getPath(event)\n\n  for (; i < path.length; i++) {\n    className = path[i].className || ''\n\n    if (/tree-node/.test(className)) {\n      return path[i]\n    }\n  }\n\n  return null\n}\n\nfunction getDropDestination (e) {\n  const selectedNode = getSelectedNode(e)\n\n  if (!selectedNode) {\n    return null\n  }\n\n  return selectedNode\n}\n\nfunction updateHelperClasses (target, classes) {\n  if (!target) {\n    return\n  }\n\n  let className = target.className\n\n  if (!classes) {\n    for (const i in DropPosition) {\n      className = className.replace(DropPosition[i], '')\n    }\n\n    className.replace('dragging', '')\n  } else if (!new RegExp(classes).test(className)) {\n    className += ' ' + classes\n  }\n\n  target.className = className.replace(/\\s+/g, ' ')\n}\n\nfunction getDropPosition (e, element) {\n  const coords = element.getBoundingClientRect()\n  const nodeSection = coords.height / 3\n\n  let dropPosition = DropPosition.ON\n\n  if (coords.top + nodeSection >= e.clientY) {\n    dropPosition = DropPosition.ABOVE\n  } else if (coords.top + nodeSection * 2 <= e.clientY) {\n    (\n      dropPosition = DropPosition.BELOW\n    )\n  }\n\n  return dropPosition\n}\n\nfunction callDndCb (args, opts, method) {\n  if (!opts || !opts[method] || typeof opts[method] !== 'function') {\n    return\n  }\n\n  return opts[method](...args) !== false\n}\n\nfunction clearDropClasses (parent) {\n  for (const key in DropPosition) {\n    const el = parent.querySelectorAll(`.${DropPosition[key]}`)\n\n    for (let i = 0; i < el.length; i++) {\n      updateHelperClasses(el[i])\n    }\n  }\n}\n\nexport default {\n  methods: {\n    onDragStart (e) {\n      e.preventDefault()\n    },\n\n    startDragging (node, event) {\n      if (!node.isDraggable() || callDndCb([node], this.tree.options.dnd, 'onDragStart') === false) {\n        return\n      }\n\n      this.$$startDragPosition = [event.clientX, event.clientY]\n      this.$$possibleDragNode = node\n\n      this.initDragListeners()\n    },\n\n    initDragListeners () {\n      let dropPosition\n\n      const removeListeners = () => {\n        window.removeEventListener('mouseup', onMouseUp, true)\n        window.removeEventListener('mousemove', onMouseMove, true)\n      }\n\n      const onMouseUp = (e) => {\n        if (!this.$$startDragPosition) {\n          e.stopPropagation()\n        }\n\n        if (this.draggableNode) {\n          this.draggableNode.node.state('dragging', false)\n        }\n\n        if (this.$$dropDestination && this.tree.isNode(this.$$dropDestination) && this.$$dropDestination.vm) {\n          updateHelperClasses(this.$$dropDestination.vm.$el, null)\n\n          const cbResult = callDndCb(\n            [this.draggableNode.node, this.$$dropDestination, dropPosition],\n            this.tree.options.dnd,\n            'onDragFinish'\n          )\n\n          if (cbResult !== false && !(!this.$$dropDestination.isDropable() && dropPosition === DropPosition.ON || !dropPosition)) {\n            this.draggableNode.node.finishDragging(this.$$dropDestination, dropPosition)\n            this.draggableNode.node.parent = this.$$dropDestination\n          }\n\n          this.$$dropDestination = null\n        }\n\n        this.$$possibleDragNode = null\n        this.$set(this, 'draggableNode', null)\n\n        removeListeners()\n      }\n\n      const onMouseMove = (e) => {\n        if (this.$$startDragPosition && !isMovingStarted(e, this.$$startDragPosition)) {\n          return\n        } else {\n          this.$$startDragPosition = null\n        }\n\n        if (this.$$possibleDragNode) {\n          if (this.$$possibleDragNode.startDragging() === false) {\n            removeListeners()\n            this.$$possibleDragNode = null\n\n            return\n          }\n\n          this.$set(this, 'draggableNode', { node: this.$$possibleDragNode, left: 0, top: 0 })\n          this.$$possibleDragNode = null\n        }\n\n        this.draggableNode.left = e.clientX\n        this.draggableNode.top = e.clientY\n\n        const dropDestination = getDropDestination(e)\n\n        clearDropClasses(this.$el)\n\n        if (dropDestination) {\n          const dropDestinationId = dropDestination.getAttribute('data-id')\n\n          if (this.draggableNode.node.id === dropDestinationId) {\n            return\n          }\n\n          if (!this.$$dropDestination || this.$$dropDestination.id !== dropDestinationId) {\n            this.$$dropDestination = this.tree.getNodeById(dropDestinationId)\n          }\n\n          if (this.$$dropDestination && this.draggableNode.node) {\n            const path = this.$$dropDestination.getPath()\n\n            if (path.includes(this.draggableNode.node)) {\n              this.$$dropDestination = null\n              return\n            }\n          }\n\n          dropPosition = getDropPosition(e, dropDestination)\n\n          const cbResult = callDndCb(\n            [this.draggableNode.node, this.$$dropDestination, dropPosition],\n            this.tree.options.dnd,\n            'onDragOn'\n          )\n\n          const isDropable = this.$$dropDestination.isDropable() && cbResult !== false\n\n          if (!isDropable && dropPosition === DropPosition.ON) {\n            dropPosition = null\n          }\n\n          updateHelperClasses(dropDestination, dropPosition)\n        }\n      }\n\n      window.addEventListener('mouseup', onMouseUp, true)\n      window.addEventListener('mousemove', onMouseMove, true)\n    }\n  }\n}\n","<template>\n  <component\n    :is=\"tag\"\n    role=\"tree\"\n    :class=\"{'tree': true, 'tree-loading': this.loading, 'tree--draggable' : !!this.draggableNode}\"\n  >\n    <template v-if=\"filter && matches.length == 0\">\n      <div\n        class=\"tree-filter-empty\"\n        v-html=\"opts.filter.emptyText\"\n      />\n    </template>\n    <template v-else>\n      <ul\n        class=\"tree-root\"\n        @dragstart=\"onDragStart\"\n      >\n        <template v-if=\"opts.filter.plainList && matches.length > 0\">\n          <TreeNode\n            v-for=\"node in visibleMatches\"\n            :key=\"node.id\"\n            :node=\"node\"\n            :options=\"opts\"\n          />\n        </template>\n        <template v-else>\n          <TreeNode\n            v-for=\"node in visibleModel\"\n            :key=\"node.id\"\n            :node=\"node\"\n            :options=\"opts\"\n          />\n        </template>\n      </ul>\n    </template>\n\n    <DraggableNode\n      v-if=\"draggableNode\"\n      :target=\"draggableNode\"\n    />\n  </component>\n</template>\n\n<script>\n  import TreeNode from './TreeNode.vue'\n  import DraggableNode from './DraggableNode.vue'\n  import TreeMixin from '../mixins/TreeMixin.js'\n  import TreeDnd from '../mixins/DndMixin.js'\n  import Tree from '../lib/Tree.js'\n\n  const defaults = {\n    direction: 'ltr',\n    multiple: true,\n    checkbox: false,\n    checkOnSelect: false,\n    autoCheckChildren: true,\n    autoDisableChildren: true,\n    checkDisabledChildren: true,\n    parentSelect: false,\n    keyboardNavigation: true,\n    nodeIndent: 24,\n    minFetchDelay: 0,\n    fetchData: null,\n    propertyNames: null,\n    deletion: false,\n    dnd: false,\n    editing: false,\n    onFetchError: function(err) { throw err }\n  }\n\n  const filterDefaults = {\n    emptyText: 'Nothing found!',\n    matcher(query, node) {\n      const isMatched = new RegExp(query, 'i').test(node.text)\n\n      if (isMatched) {\n        if (node.parent && new RegExp(query, 'i').test(node.parent.text)) {\n          return false\n        }\n      }\n\n      return isMatched\n    },\n    plainList: false,\n    showChildren: true\n  };\n\n  export default {\n    name: 'Tree',\n    components: {\n      TreeNode,\n      DraggableNode\n    },\n\n    mixins: [TreeMixin, TreeDnd],\n\n    provide: _ => ({\n      tree: null\n    }),\n\n    props: {\n      data: {},\n\n      options: {\n        type: Object,\n        default: _ => ({})\n      },\n\n      filter: String,\n\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n\n    data () {\n      // we should not mutating a prop directly...\n      // that's why we have to create a new object\n      // TODO: add method for changing options\n      let opts = Object.assign({}, defaults, this.options)\n\n      opts.filter = Object.assign(\n        {},\n        filterDefaults,\n        opts.filter\n      )\n\n      return {\n        model: [],\n        tree: null,\n        loading: false,\n        opts,\n        matches: [],\n        draggableNode: null\n      }\n    },\n\n    computed: {\n      visibleModel() {\n        return this.model.filter(function(node) {\n          return node && node.visible()\n        }) \n      },\n      visibleMatches() {\n        return this.matches.filter(function(node) {\n          return node && node.visible()\n        })\n      }\n    },\n    \n    watch: {\n      filter (term) {\n        this.tree.filter(term)\n      }\n    },\n  }\n</script>\n\n<style>\n  .tree {\n    overflow: auto;\n  }\n\n  .tree-root,\n  .tree-children {\n    list-style: none;\n    padding: 0;\n  }\n\n  .tree > .tree-root,\n  .tree > .tree-filter-empty {\n    padding: 3px;\n    box-sizing: border-box;\n  }\n\n  .tree.tree--draggable .tree-node:not(.selected) > .tree-content:hover {\n    background: transparent;\n  }\n\n  .drag-above,\n  .drag-below,\n  .drag-on {\n    position: relative;\n    z-index: 1;\n  }\n\n  .drag-on > .tree-content {\n    background: #fafcff;\n    outline: 1px solid #7baff2;\n  }\n\n  .drag-above > .tree-content::before, .drag-below > .tree-content::after {\n    display: block;\n    content: '';\n    position: absolute;\n    height: 8px;\n    left: 0;\n    right: 0;\n    z-index: 2;\n    box-sizing: border-box;\n    background-color: #3367d6;\n    border: 3px solid #3367d6;\n    background-clip: padding-box;\n    border-bottom-color: transparent;\n    border-top-color: transparent;\n    border-radius: 0;\n  }\n\n  .drag-above > .tree-content::before {\n    top: 0;\n    transform: translateY(-50%);\n  }\n\n  .drag-below > .tree-content::after {\n    bottom: 0;\n    transform: translateY(50%);\n  }\n</style>","import TreeRoot from './components/TreeRoot.vue'\n\nconst install = Vue => {\n  Vue.component(TreeRoot.name, TreeRoot)\n}\n\nTreeRoot.install = install\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(TreeRoot)\n}\n\nexport default TreeRoot\n"],"names":["const","let","script","super","this"],"mappings":"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"}